"use strict";(self.webpackChunk_MokoshAI_cms=self.webpackChunk_MokoshAI_cms||[]).push([[4499],{16141:(D,l,t)=>{t.d(l,{a:()=>O,b:()=>r,c:()=>n,d:()=>P,e:()=>d,f:()=>i,u:()=>T});var a=t(91155);const o=a.n.injectEndpoints({endpoints:E=>({getWorkflows:E.query({query:s=>{const{id:_,...e}=s??{};return{url:`/admin/review-workflows/workflows/${_??""}`,method:"GET",config:{params:e}}},transformResponse:s=>{let _=[];return Array.isArray(s.data)?_=s.data:_=[s.data],{workflows:_,meta:"meta"in s?s.meta:void 0}},providesTags:(s,_,e)=>typeof e=="object"&&"id"in e&&e.id!==""?[{type:"ReviewWorkflow",id:e.id}]:[...s?.workflows.map(({id:M})=>({type:"ReviewWorkflow",id:M}))??[],{type:"ReviewWorkflow",id:"LIST"}]}),createWorkflow:E.mutation({query:s=>({url:"/admin/review-workflows/workflows",method:"POST",data:s}),transformResponse:s=>s.data,invalidatesTags:[{type:"ReviewWorkflow",id:"LIST"}]}),updateWorkflow:E.mutation({query:({id:s,..._})=>({url:`/admin/review-workflows/workflows/${s}`,method:"PUT",data:_}),transformResponse:s=>s.data,invalidatesTags:(s,_,e)=>[{type:"ReviewWorkflow",id:e.id}]}),deleteWorkflow:E.mutation({query:({id:s})=>({url:`/admin/review-workflows/workflows/${s}`,method:"DELETE"}),transformResponse:s=>s.data,invalidatesTags:(s,_,e)=>[{type:"ReviewWorkflow",id:e.id}]}),getStages:E.query({query:({model:s,slug:_,id:e})=>({url:`/admin/content-manager/${_}/${s}/${e}/stages`,method:"GET"}),transformResponse:s=>({meta:s.meta??{workflowCount:0},stages:s.data??[]}),providesTags:(s,_,e)=>[{type:"ReviewWorkflowStage",id:e.id}]}),updateStage:E.mutation({query:({model:s,slug:_,id:e,...M})=>({url:`/admin/content-manager/${_}/${s}/${e}/stage`,method:"PUT",data:M}),transformResponse:s=>s.data,invalidatesTags:(s,_,e)=>[{type:"ReviewWorkflowStage",id:e.id}]}),updateAssignee:E.mutation({query:({model:s,slug:_,id:e,...M})=>({url:`/admin/content-manager/${_}/${s}/${e}/assignee`,method:"PUT",data:M}),transformResponse:s=>s.data})}),overrideExisting:!1}),{useGetWorkflowsQuery:n,useCreateWorkflowMutation:P,useDeleteWorkflowMutation:i,useUpdateWorkflowMutation:d,useGetStagesQuery:O,useUpdateStageMutation:r,useUpdateAssigneeMutation:T}=o},17260:(D,l,t)=>{t.d(l,{A:()=>o,S:()=>a});const a="strapi_stage",o="strapi_assignee"},34778:(D,l,t)=>{t.d(l,{A:()=>O,C:()=>K,D:()=>S,R:()=>o,S:()=>C,a:()=>U,b:()=>I,c:()=>r,d:()=>E,e:()=>n,f:()=>P,g:()=>d,h:()=>i,i:()=>g,j:()=>s,k:()=>T,l:()=>_,m:()=>e,n:()=>M});var a=t(25148);const o="settings_review-workflows",n="Settings/Review_Workflows/RESET_WORKFLOW",P="Settings/Review_Workflows/SET_CONTENT_TYPES",i="Settings/Review_Workflows/SET_IS_LOADING",d="Settings/Review_Workflows/SET_ROLES",O="Settings/Review_Workflows/SET_WORKFLOW",r="Settings/Review_Workflows/SET_WORKFLOWS",T="Settings/Review_Workflows/WORKFLOW_DELETE_STAGE",E="Settings/Review_Workflows/WORKFLOW_ADD_STAGE",s="Settings/Review_Workflows/WORKFLOW_CLONE_STAGE",_="Settings/Review_Workflows/WORKFLOW_UPDATE_STAGE",e="Settings/Review_Workflows/WORKFLOW_UPDATE_STAGES",M="Settings/Review_Workflows/WORKFLOW_UPDATE_STAGE_POSITION",g="Settings/Review_Workflows/WORKFLOW_UPDATE",C={primary600:"Blue",primary200:"Lilac",alternative600:"Violet",alternative200:"Lavender",success600:"Green",success200:"Pale Green",danger500:"Cherry",danger200:"Pink",warning600:"Orange",warning200:"Yellow",secondary600:"Teal",secondary200:"Baby Blue",neutral400:"Gray",neutral0:"White"},I=a._.colors.primary600,S={STAGE:"stage"},K="numberOfWorkflows",U="stagesPerWorkflow"},50552:(D,l,t)=>{t.d(l,{u:()=>o});var a=t(16141);function o(n={}){const{id:P="",...i}=n,{data:d,isLoading:O}=(0,a.c)({id:P,populate:"stages",...i}),[r]=(0,a.d)(),[T]=(0,a.e)(),[E]=(0,a.f)(),{workflows:s,meta:_}=d??{};return{meta:_,workflows:s,isLoading:O,createWorkflow:r,updateWorkflow:T,deleteWorkflow:E}}},64820:(D,l,t)=>{t.d(l,{a:()=>P,g:()=>n});var a=t(25148),o=t(34778);function n(i){if(!i)return null;const O=Object.entries(a._.colors).filter(([,r])=>r.toUpperCase()===i.toUpperCase()).reduce((r,[T])=>(o.S?.[T]&&(r=T),r),null);return O?{themeColorName:O,name:o.S[O]}:null}function P(){return Object.entries(o.S).map(([i,d])=>({hex:a._.colors[i].toUpperCase(),name:d}))}},74499:(D,l,t)=>{t.r(l),t.d(l,{REVIEW_WORKFLOW_COLUMNS_EE:()=>h,REVIEW_WORKFLOW_FILTERS:()=>y});var a=t(91155),o=t(17260),n=t(58466),P=t(99955),i=t(95504),d=t(59754),O=t(59979),r=t(9093),T=t(13775),E=t(96508),s=t(50552),_=t(64820),e=t(43348),M=t(79412),g=t(9361),C=t(95052),I=t(50682),S=t(20153),K=t(76024),U=t(2730),F=t(34511),k=t(85209),G=t(43900),j=t(69093),$=t(85041),x=t(3891),Y=t(90588),V=t(49382),z=t(12762),H=t(19292),X=t(9174),Q=t(6056),Z=t(33854),J=t(31075),b=t(19727),q=t(8184),tt=t(11001),st=t(15778),_t=t(81806),et=t(95431),at=t(55688),ot=t(32962),nt=t(40060),Et=t(26208),rt=t(31666),lt=t(69506),it=t(3691),Ot=t(2119),dt=t(46705),Tt=t(59362),Pt=t(98907),Mt=t(28685),Dt=t(45946),Wt=t(6377),Rt=t(71484),mt=t(97755),At=t(85960),vt=t(25395),Lt=t(35771),ft=t(16141),gt=t(34778);const B=({value:R,onChange:v})=>{const{formatMessage:m}=(0,E.A)(),{data:L,isLoading:f}=(0,a.k)(),A=L?.users||[];return(0,n.jsx)(P.G3,{value:R,"aria-label":m({id:"content-manager.components.Filters.usersSelect.label",defaultMessage:"Search and select an user to filter"}),onChange:v,loading:f,children:A.map(W=>(0,n.jsx)(i.j,{value:W.id.toString(),children:(0,a.l)(W,m)},W.id))})},u=({value:R,onChange:v,uid:m})=>{const{formatMessage:L}=(0,E.A)(),{workflows:f,isLoading:A}=(0,s.u)({filters:{contentTypes:m}}),[W]=f??[];return(0,n.jsx)(r.Z,{"aria-label":L({id:"content-manager.components.Filters.reviewWorkflows.label",defaultMessage:"Search and select an workflow stage to filter"}),value:R,onChange:v,loading:A,customizeContent:()=>(0,n.jsxs)(O.s,{as:"span",justifyContent:"space-between",alignItems:"center",width:"100%",children:[(0,n.jsx)(T.o,{textColor:"neutral800",ellipsis:!0,children:R}),A?(0,n.jsx)(d.a,{small:!0,style:{display:"flex"}}):null]}),children:(W?.stages??[]).map(({id:p,color:w,name:c})=>{const{themeColorName:N}=(0,_.g)(w)??{};return(0,n.jsx)(r.eY,{startIcon:(0,n.jsx)(O.s,{height:2,background:w,borderColor:N==="neutral0"?"neutral150":void 0,hasRadius:!0,shrink:0,width:2}),value:c,children:c},p)})})},h=[{key:`__${o.S}_temp_key__`,name:o.S,fieldSchema:{type:"relation",relation:"oneToMany",target:"admin::review-workflow-stage"},metadatas:{label:{id:(0,a.o)("containers.ListPage.table-headers.reviewWorkflows.stage"),defaultMessage:"Review stage"},searchable:!1,sortable:!0,mainField:{name:"name",type:"string"}}},{key:`__${o.A}_temp_key__`,name:o.A,fieldSchema:{type:"relation",target:"admin::user",relation:"oneToMany"},metadatas:{label:{id:(0,a.o)("containers.ListPage.table-headers.reviewWorkflows.assignee"),defaultMessage:"Assignee"},searchable:!1,sortable:!0,mainField:{name:"firstname",type:"string"}}}],y=[{fieldSchema:{type:"relation",mainField:{name:"name",type:"string"}},metadatas:{customInput:u,label:{id:(0,a.o)("containers.ListPage.table-headers.reviewWorkflows.stage"),defaultMessage:"Review stage"}},name:"strapi_stage"},{fieldSchema:{type:"relation",mainField:{name:"id",type:"integer"}},metadatas:{customInput:B,customOperators:[{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$eq",defaultMessage:"is"},value:"$eq"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$ne",defaultMessage:"is not"},value:"$ne"}],label:{id:(0,a.o)("containers.ListPage.table-headers.reviewWorkflows.assignee.label"),defaultMessage:"Assignee"}},name:"strapi_assignee"}]}}]);
